<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlyEast Booking</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background-color: #f0f8ff;
      color: #000;
    }

    header {
      padding: 30px 5%;
      background-color: white;
    }

    header h1 {
      margin-top:25px;
      font-size: 32px;
      font-weight: 600;
    }

    header h1 span {
      color: #ff6b6b;
    }

    .trip-info {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 10px;
      font-size: 14px;
      color: #555;
    }

    .date-selector {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding: 20px 5%;
      background-color: white;
      border-top: 1px solid #ccc;
    }

    .date-box {
      text-align: center;
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
      min-width: 100px;
    }

    .date-box.active {
      background-color: #def2ff;
      border-color: #007bff;
    }

    .filters {
      display: flex;
      gap: 15px;
      padding: 10px 5%;
      background-color: #f5faff;
    }

    .filters button {
      padding: 8px 14px;
      background-color: #f0f0f0;
      border: none;
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
    }

    .flight-list {
      padding: 20px 5%;
    }

    .flight-card {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .flight-details {
      flex: 1;
    }

    .flight-details p {
      margin-bottom: 6px;
      font-size: 14px;
    }
   .flights-list {
        list-style: none;
        padding: 0;
    }
    .flights-list li {
        background: white;
        margin: 10px 0;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        text-align: left;
        border-left: 5px solid #ff6b6b;
        cursor: pointer;
        transition: transform 0.2s ease;
    }
    .flights-list li:hover {
        transform: translateX(5px);
    }
    .price-info {
      text-align: right;
    }

    .price-info .price {
      font-size: 18px;
      font-weight: 600;
    }

    .price-info .blu {
      font-size: 12px;
      color: #ff6b6b;
      margin-top: 4px;
    }

    .fare-hold {
      text-align: center;
      background-color: #e6f2ff;
      padding: 15px;
      font-size: 14px;
      margin: 0 5%;
      border-radius: 8px;
    }

    .container.hidden {
      display: none;
    }
    
    .container {
      display: block;
      padding: 20px 5%;
    }
  </style>
</head>

<body>
  <header>
    <div class="trip-info" id="tripDetails">
      <div>Loading route...</div>
      <div>Loading date...</div>
      <div>Loading passengers...</div>
    </div>

    <h1>Choose your preferred flight from <span>Delhi</span> to <span>Mumbai</span></h1>
  </header>

  <section class="date-selector" id="dateSelector">
    <!-- Dates will be injected by JS -->
  </section>

  <!-- <section class="filters">
    <button>Stretch | Business</button>
    <button>Non-stop</button>
    <button>Low cost first</button>
    <button>Early departures</button>
  </section> -->

  <!-- <section class="flight-list">
    <div class="flight-card">
      <div class="flight-details">
        <p><strong>6E 6114</strong></p>
        <p>22:00 DEL, T1 â†’ 00:20 BOM, T2</p>

        <p>Non-stop | Duration: 2h 20m</p>
      </div>
      <div class="price-info">
        <div class="price">â‚¹8,817 (Economy)</div>
        <div class="blu">+ Earn 941 IndiGo BluChips</div>
        <br>
        <div class="price">â‚¹20,107 (Business)</div>
        <div class="blu">+ Earn 2,091 IndiGo BluChips</div>
      </div>
    </div>

    <div class="fare-hold">
      ðŸ”’ 6E Fare Hold | Hold fares for up to 72 hours, starting at just â‚¹99*
    </div>

    <div class="flight-card">
      <div class="flight-details">
        <p><strong>6E 519</strong></p>
        <p>23:30 DEL, T1 â†’ 01:45 BOM, T2</p>
        <p>Non-stop | Duration: 2h 15m</p>
      </div>
      <div class="price-info">
        <div class="price">â‚¹8,817 (Economy)</div>
        <div class="blu">+ Earn 941 IndiGo BluChips</div>
        <br>
        <div class="price">â‚¹20,107 (Business)</div>
        <div class="blu">+ Earn 2,091 IndiGo BluChips</div>
      </div>
    </div>
  </section> -->

  <div id="flightsPage" class="container hidden">
    <ul class="flights-list">
      <li data-from="Kochi, COK" data-to="Mumbai, BOM" onclick="redirectToAirplane(this)">
        <strong>Flight FE-591</strong><br>
        Departure: 7:34 AM - Kochi, COK <br>
        Arrival: 9:08 AM - Mumbai, BOM <br>
        <div class="price-info">â‚¹${Math.floor(Math.random() * 5000) + 3000}</div>
      </li>
      <li data-from="Srinagar, SXR" data-to="Coimbatore, CJB" onclick="redirectToAirplane(this)">
        <strong>Flight FE-791</strong><br>
        Departure: 12:18 PM - Srinagar, SXR <br>
        Arrival: 3:30 PM - Coimbatore, CJB <br>
        <div class="price-info">â‚¹${Math.floor(Math.random() * 5000) + 3000}</div>
      </li>
      <li data-from="Visakhapatnam, VTZ" data-to="Mumbai, BOM" onclick="redirectToAirplane(this)"><strong>Flight FE-932</strong><br>Departure: 3:44 PM - Visakhapatnam, VTZ <br>Arrival: 4:47 PM - Mumbai, BOM </li>
      <li data-from="Lucknow, LKO" data-to="Pune, PNQ" onclick="redirectToAirplane(this)"><strong>Flight FE-227</strong><br>Departure: 12:54 PM - Lucknow, LKO <br>Arrival: 2:27 PM - Pune, PNQ </li>
      <li data-from="Amritsar, ATQ" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-248</strong><br>Departure: 10:07 AM - Amritsar, ATQ <br>Arrival: 12:23 PM - Delhi, DEL </li>
      <li data-from="Amritsar, ATQ" data-to="Nagpur, NAG" onclick="redirectToAirplane(this)"><strong>Flight FE-792</strong><br>Departure: 8:43 AM - Amritsar, ATQ <br>Arrival: 10:16 AM - Nagpur, NAG </li>
      <li data-from="Surat, STV" data-to="Chennai, MAA" onclick="redirectToAirplane(this)"><strong>Flight FE-536</strong><br>Departure: 2:49 PM - Surat, STV <br>Arrival: 3:49 PM - Chennai, MAA </li>
      <li data-from="Mumbai, BOM" data-to="Patna, PAT" onclick="redirectToAirplane(this)"><strong>Flight FE-439</strong><br>Departure: 6:27 AM - Mumbai, BOM <br>Arrival: 8:17 AM - Patna, PAT </li>
      <li data-from="Visakhapatnam, VTZ" data-to="Kolkata, CCU" onclick="redirectToAirplane(this)"><strong>Flight FE-461</strong><br>Departure: 8:09 AM - Visakhapatnam, VTZ <br>Arrival: 9:45 AM - Kolkata, CCU </li>
      <li data-from="Visakhapatnam, VTZ" data-to="Kochi, COK" onclick="redirectToAirplane(this)"><strong>Flight FE-240</strong><br>Departure: 6:45 AM - Visakhapatnam, VTZ <br>Arrival: 8:02 AM - Kochi, COK </li>
      <li data-from="Amritsar, ATQ" data-to="Visakhapatnam, VTZ" onclick="redirectToAirplane(this)"><strong>Flight FE-421</strong><br>Departure: 2:24 PM - Amritsar, ATQ <br>Arrival: 5:28 PM - Visakhapatnam, VTZ </li>
      <li data-from="Bhubaneswar, BBI" data-to="Lucknow, LKO" onclick="redirectToAirplane(this)"><strong>Flight FE-650</strong><br>Departure: 11:53 AM - Bhubaneswar, BBI <br>Arrival: 2:59 PM - Lucknow, LKO </li>
      <li data-from="Lucknow, LKO" data-to="Dehradun, DED" onclick="redirectToAirplane(this)"><strong>Flight FE-973</strong><br>Departure: 6:37 AM - Lucknow, LKO <br>Arrival: 10:29 AM - Dehradun, DED </li>
      <li data-from="Delhi, DEL" data-to="Port Blair, IXZ" onclick="redirectToAirplane(this)"><strong>Flight FE-488</strong><br>Departure: 11:24 AM - Delhi, DEL <br>Arrival: 3:04 PM - Port Blair, IXZ </li>
      <li data-from="Indore, IDR" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-656</strong><br>Departure: 6:56 AM - Indore, IDR <br>Arrival: 10:29 AM - Delhi, DEL </li>
      <li data-from="Surat, STV" data-to="Pune, PNQ" onclick="redirectToAirplane(this)"><strong>Flight FE-328</strong><br>Departure: 10:35 AM - Surat, STV <br>Arrival: 1:17 PM - Pune, PNQ </li>
      <li data-from="Patna, PAT" data-to="Ahmedabad, AMD" onclick="redirectToAirplane(this)"><strong>Flight FE-994</strong><br>Departure: 5:50 AM - Patna, PAT <br>Arrival: 9:24 AM - Ahmedabad, AMD </li>
      <li data-from="Varanasi, VNS" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-603</strong><br>Departure: 9:13 AM - Varanasi, VNS <br>Arrival: 11:44 AM - Delhi, DEL </li>
      <li data-from="Bengaluru, BLR" data-to="Amritsar, ATQ" onclick="redirectToAirplane(this)"><strong>Flight FE-507</strong><br>Departure: 8:24 AM - Bengaluru, BLR <br>Arrival: 11:33 AM - Amritsar, ATQ </li>
      <li data-from="Bengaluru, BLR" data-to="Patna, PAT" onclick="redirectToAirplane(this)"><strong>Flight FE-631</strong><br>Departure: 10:08 AM - Bengaluru, BLR <br>Arrival: 11:26 AM - Patna, PAT </li>
      <li data-from="Delhi, DEL" data-to="Surat, STV" onclick="redirectToAirplane(this)"><strong>Flight FE-256</strong><br>Departure: 11:01 AM - Delhi, DEL <br>Arrival: 1:09 PM - Surat, STV </li>
      <li data-from="Ranchi, IXR" data-to="Dehradun, DED" onclick="redirectToAirplane(this)"><strong>Flight FE-210</strong><br>Departure: 11:52 AM - Ranchi, IXR <br>Arrival: 2:42 PM - Dehradun, DED </li>
      <li data-from="Chandigarh, IXC" data-to="Coimbatore, CJB" onclick="redirectToAirplane(this)"><strong>Flight FE-407</strong><br>Departure: 7:24 AM - Chandigarh, IXC <br>Arrival: 10:36 AM - Coimbatore, CJB </li>
      <li data-from="Coimbatore, CJB" data-to="Mumbai, BOM" onclick="redirectToAirplane(this)"><strong>Flight FE-800</strong><br>Departure: 7:39 AM - Coimbatore, CJB <br>Arrival: 9:31 AM - Mumbai, BOM </li>
      <li data-from="Ranchi, IXR" data-to="Indore, IDR" onclick="redirectToAirplane(this)"><strong>Flight FE-390</strong><br>Departure: 5:41 AM - Ranchi, IXR <br>Arrival: 8:59 AM - Indore, IDR </li>
      <li data-from="Hyderabad, HYD" data-to="Varanasi, VNS" onclick="redirectToAirplane(this)"><strong>Flight FE-305</strong><br>Departure: 3:35 PM - Hyderabad, HYD <br>Arrival: 6:03 PM - Varanasi, VNS </li>
      <li data-from="Indore, IDR" data-to="Surat, STV" onclick="redirectToAirplane(this)"><strong>Flight FE-961</strong><br>Departure: 8:36 AM - Indore, IDR <br>Arrival: 12:12 PM - Surat, STV </li>
      <li data-from="Chennai, MAA" data-to="Coimbatore, CJB" onclick="redirectToAirplane(this)"><strong>Flight FE-875</strong><br>Departure: 10:24 AM - Chennai, MAA <br>Arrival: 12:06 PM - Coimbatore, CJB </li>
      <li data-from="Nagpur, NAG" data-to="Kochi, COK" onclick="redirectToAirplane(this)"><strong>Flight FE-586</strong><br>Departure: 8:41 AM - Nagpur, NAG <br>Arrival: 10:04 AM - Kochi, COK </li>
      <li data-from="Patna, PAT" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-793</strong><br>Departure: 10:54 AM - Patna, PAT <br>Arrival: 12:14 PM - Delhi, DEL </li>
      <li data-from="Visakhapatnam, VTZ" data-to="Thiruvananthapuram, TRV" onclick="redirectToAirplane(this)"><strong>Flight FE-663</strong><br>Departure: 8:18 AM - Visakhapatnam, VTZ <br>Arrival: 10:15 AM - Thiruvananthapuram, TRV </li>
      <li data-from="Guwahati, GAU" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-676</strong><br>Departure: 3:50 PM - Guwahati, GAU <br>Arrival: 6:35 PM - Delhi, DEL </li>
      <li data-from="Kochi, COK" data-to="Goa, GOI" onclick="redirectToAirplane(this)"><strong>Flight FE-486</strong><br>Departure: 10:27 AM - Kochi, COK <br>Arrival: 12:05 PM - Goa, GOI </li>
      <li data-from="Indore, IDR" data-to="Guwahati, GAU" onclick="redirectToAirplane(this)"><strong>Flight FE-887</strong><br>Departure: 12:34 PM - Indore, IDR <br>Arrival: 2:56 PM - Guwahati, GAU </li>
      <li data-from="Kolkata, CCU" data-to="Ranchi, IXR" onclick="redirectToAirplane(this)"><strong>Flight FE-747</strong><br>Departure: 7:09 AM - Kolkata, CCU <br>Arrival: 8:57 AM - Ranchi, IXR </li>
      <li data-from="Bengaluru, BLR" data-to="Bhubaneswar, BBI" onclick="redirectToAirplane(this)"><strong>Flight FE-342</strong><br>Departure: 1:24 PM - Bengaluru, BLR <br>Arrival: 4:05 PM - Bhubaneswar, BBI </li>
      <li data-from="Srinagar, SXR" data-to="Chandigarh, IXC" onclick="redirectToAirplane(this)"><strong>Flight FE-837</strong><br>Departure: 11:20 AM - Srinagar, SXR <br>Arrival: 1:47 PM - Chandigarh, IXC </li>
      <li data-from="Bhubaneswar, BBI" data-to="Delhi, DEL" onclick="redirectToAirplane(this)"><strong>Flight FE-279</strong><br>Departure: 12:59 PM - Bhubaneswar, BBI <br>Arrival: 3:26 PM - Delhi, DEL </li>
      <li data-from="Lucknow, LKO" data-to="Bhubaneswar, BBI" onclick="redirectToAirplane(this)"><strong>Flight FE-400</strong><br>Departure: 7:04 AM - Lucknow, LKO <br>Arrival: 9:16 AM - Bhubaneswar, BBI </li>
      <li data-from="Delhi, DEL" data-to="Hyderabad, HYD" onclick="redirectToAirplane(this)"><strong>Flight FE-331</strong><br>Departure: 12:58 PM - Delhi, DEL <br>Arrival: 3:42 PM - Hyderabad, HYD </li>
      <li data-from="Hyderabad, HYD" data-to="Goa, GOI" onclick="redirectToAirplane(this)"><strong>Flight FE-953</strong><br>Departure: 8:33 AM - Hyderabad, HYD <br>Arrival: 11:52 AM - Goa, GOI </li>
    </ul>
  </div>

<script>
  // Store search data in localStorage when page loads
  window.onload = function() {
    const params = new URLSearchParams(window.location.search);
    const from = params.get('from');
    const to = params.get('to');
    const departure = params.get('departure');
    const passengers = params.get('passengers');

    // Store search data
    const searchData = {
      from: from,
      to: to,
      departure: departure,
      passengers: passengers
    };
    localStorage.setItem('searchData', JSON.stringify(searchData));

    // Update trip info
    if (from && to) {
      document.getElementById('tripDetails').innerHTML = `
        <div>${from} - ${to}      ||
             ${departure || 'Today'}      ||
              Passengers-${passengers || '1'}</div>
      `;

      const heading = document.querySelector('h1');
      if (heading) {
        heading.innerHTML = `Choose your preferred flight from <span>${from}</span> to <span>${to}</span>`;
      }
    }

    // Show flights container and apply filters
    const flightsPage = document.getElementById('flightsPage');
    if (flightsPage) {
      flightsPage.classList.remove('hidden');
    }
    filterFlights();
    renderDateSelector(departure);
  };

  function getFormattedDate(date) {
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
    
    const day = days[date.getDay()];
    const month = months[date.getMonth()];
    const dateNum = date.getDate();
    
    return {
      day,
      month,
      dateNum,
      fullDate: date.toISOString().split('T')[0]
    };
  }

  function renderDateSelector(selectedDate) {
    const dateSelector = document.getElementById('dateSelector');
    const today = new Date();
    const selected = selectedDate ? new Date(selectedDate) : today;
    
    // Generate dates for 3 days (yesterday, today, tomorrow)
    const dates = [];
    for (let i = -1; i <= 1; i++) {
      const date = new Date(selected);
      date.setDate(date.getDate() + i);
      dates.push(date);
    }

    // Clear existing dates
    dateSelector.innerHTML = '';

    // Add date boxes
    dates.forEach(date => {
      const formatted = getFormattedDate(date);
      const isSelected = date.toDateString() === selected.toDateString();
      
      const dateBox = document.createElement('div');
      dateBox.className = `date-box ${isSelected ? 'active' : ''}`;
      dateBox.innerHTML = `
        <div>${formatted.day}</div>
        <div>${formatted.dateNum}</div>
        <div>${formatted.month}</div>
      `;
      dateBox.onclick = () => selectDate(date);
      dateSelector.appendChild(dateBox);
    });
  }

  function selectDate(date) {
    const formatted = getFormattedDate(date);
    const searchData = JSON.parse(localStorage.getItem('searchData') || '{}');
    searchData.departure = formatted.fullDate;
    localStorage.setItem('searchData', JSON.stringify(searchData));
    
    // Update trip info with new date
    const tripDetails = document.getElementById('tripDetails');
    if (tripDetails) {
      const parts = tripDetails.innerHTML.split('||');
      parts[1] = ` ${formatted.fullDate} `;
      tripDetails.innerHTML = parts.join('||');
    }
    
    renderDateSelector(date);
  }

  function filterFlights() {
    const searchData = JSON.parse(localStorage.getItem('searchData') || '{}');
    let fromCity = searchData.from ? searchData.from.split(',')[0].trim().toLowerCase() : "";
    let toCity = searchData.to ? searchData.to.split(',')[0].trim().toLowerCase() : "";
    
    console.log('Filtering for:', fromCity, 'to', toCity); // Debug log
    
    let flights = document.querySelectorAll(".flights-list li");
    let hasFlights = false;

    flights.forEach(flight => {
      let flightFrom = flight.getAttribute("data-from").split(',')[0].trim().toLowerCase();
      let flightTo = flight.getAttribute("data-to").split(',')[0].trim().toLowerCase();
      
      console.log('Checking flight:', flightFrom, 'to', flightTo); // Debug log

      if ((fromCity === "" || flightFrom.includes(fromCity)) && 
          (toCity === "" || flightTo.includes(toCity))) {
        flight.style.display = "block";
        hasFlights = true;
      } else {
        flight.style.display = "none";
      }
    });

    // Add random prices to visible flights
    document.querySelectorAll(".flights-list li").forEach(flight => {
      if (flight.style.display !== "none") {
        const priceInfo = flight.querySelector('.price-info');
        if (!priceInfo) {
          const price = Math.floor(Math.random() * 5000) + 3000;
          const priceDiv = document.createElement('div');
          priceDiv.className = 'price-info';
          priceDiv.textContent = `â‚¹${price}`;
          flight.appendChild(priceDiv);
        }
      }
    });
  }

  function redirectToAirplane(element) {
    const flightData = {
      from: element.getAttribute('data-from'),
      to: element.getAttribute('data-to'),
      flightNumber: element.querySelector('strong').textContent,
      departure: element.textContent.match(/Departure: (.*?) -/)[1],
      arrival: element.textContent.match(/Arrival: (.*?) -/)[1]
    };
    
    localStorage.setItem('selectedFlight', JSON.stringify(flightData));
    window.location.href = 'airplane.html';
  }

  // Update trip info when page loads
  document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const from = urlParams.get('from') || 'Delhi';
    const to = urlParams.get('to') || 'Mumbai';
    const departure = urlParams.get('departure') || 'Today';
    const passengers = urlParams.get('passengers') || '1';

    document.querySelector('header h1 span:first-child').textContent = from;
    document.querySelector('header h1 span:last-child').textContent = to;
    
    const tripDetails = document.getElementById('tripDetails');
    tripDetails.innerHTML = `
      <div>${from} â†’ ${to}</div>
      <div>${departure}</div>
      <div>${passengers} Passenger(s)</div>
    `;
  });
</script>
</body>
</html>
